LlamaIndex提供了不同的方法来合成相关上下文中的响应。可以在我们的[使用模式指南]（设置响应模式）中找到如何切换的方法。下面，我们可视化地突出显示每种响应模式如何工作。

### 精炼

精炼是生成响应的迭代方法。我们首先使用第一个节点中的上下文以及查询来生成初始答案。然后，我们将此答案、查询和第二个节点的上下文作为输入传递到“精炼提示”中以生成精炼答案。我们通过N-1个节点进行精炼，其中N是总节点数。

！[](/_static/indices/create_and_refine.png)

### [默认]紧凑和精炼
紧凑和精炼模式首先将文本块合并成更大的整合块，以充分利用可用的上下文窗口，然后在它们之间精炼答案。

与精炼相比，此模式更快，因为我们对LLM的调用次数较少。

### 树汇总

树汇总是生成响应的另一种方法。我们基本上在候选节点集上构建一个树索引，其中以查询为种子的“汇总提示”。树是以自下而上的方式构建的，最后根节点作为响应返回。

！[](/_static/indices/tree_summarize.png)

### 简单汇总
只需将所有文本块合并为一个，并对LLM进行单次调用，无需附加任何其他上下文。

### 生成
忽略所有文本块，仅使用查询，而不使用任何其他上下文，对LLM进行单次调用。

```{toctree}
---
caption: 参考
maxdepth: 1
---
../../reference/query/response_synthesizer.rst
```